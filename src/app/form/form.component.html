





<app-form [domainCheck]="domainCheck" [domain_check_progression]="domain_check_progression"></app-form>







<div class="row">
  <div class="col-sm-10 offset-sm-1 text-center">
  <h1>{{'Domain check'|translate}}</h1>
  <div class="info-form">
    <form class="form-inline justify-content-center">
      <input type="text"
             class="form-control form-control-lg"
             id="domain_check_name"
             name="domain_check_name"
             [(ngModel)]="form.domain"
             (keypress)="($event.which === 13)? domainCheck() : 0"
             placeholder="{{'Domain name'|translate}}"
             required>
      <a title="{{'Run test'|translate}}"
         onClick="return false;"
         (click)="domainCheck();"
         style="cursor: pointer;"
         class="ml-2">
        <span class="fa fa-play-circle-o fa-5x"></span>
      </a>
    </form>
    <p *ngIf="showProgressBar">
      <ngb-progressbar
        type="info"
        [value]="domain_check_progression"
        [striped]="true"
        [animated]="true"
      >
        <span class="progress-value">{{domain_check_progression}}%</span>
      </ngb-progressbar>
    </p>
    <div [class.invalid]="!checkboxForm.controls.selectedItems.valid" *ngIf="!checkboxForm.controls.selectedItems.valid">
      At least one protocol is required in advanced options!
    </div>
  </div>
</div>
</div>
<div class="row">
  <div class="advanced">
    <label>
      <span class="switch">
        <input type="checkbox" name="advanced_checkbox" [(ngModel)]="is_advanced_options_enabled">
        <span class="slider round"></span>
      </span>
      {{'Advanced options'|translate}}
    </label>

    <div *ngIf="is_advanced_options_enabled">
      <hr>
      <form [formGroup]="checkboxForm">
        <div [formArrayName]="'items'" [class.invalid]="!checkboxForm.controls.selectedItems.valid">
          <div *ngFor="let protocol of checkboxForm.controls.items.controls; let i = index;" [formGroup]="protocol">
            <input type="checkbox" formControlName="checked" id="protocol_{{ protocol.controls.key.value }}">
            <label attr.for="protocol_{{ protocol.controls.key.value }}">{{ protocol.controls.value.value }}</label>
          </div>
        </div>
        <hr>
      </form>

      <select [(ngModel)]="form.profile" class="form-control" name="form.profile">
        <option value="default_profile">Default</option>
        <option value="test_profile_1">IANA profile</option>
        <option value="test_profile_2">Test profile 2</option>
      </select>
      <br>
    </div>
  </div>
</div>
